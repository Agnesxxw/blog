(window.webpackJsonp=window.webpackJsonp||[]).push([[291],{618:function(e,t,r){"use strict";r.r(t);var n=r(12),o=Object(n.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("p",[r("strong",[e._v("Q：利用可写流，将输入转换为带有颜色的输出")])]),e._v(" "),r("p",[e._v("A：可写流使用流 API 向底层的 I/O 输出数据。本题就是向 process.stdout 输出加工后的数据。")]),e._v(" "),r("p",[r("a",{attrs:{href:"https://github.com/dongyuanxin/ciy/blob/master/nodejs/stream/write.js",target:"_blank",rel:"noopener noreferrer"}},[e._v("代码地址"),r("OutboundLink")],1)]),e._v(" "),r("p",[r("strong",[e._v("Q：利用可读流，按行读取存放 json 的大文件")])]),e._v(" "),r("p",[e._v("A: 可读流使用流 API「包装」来自底层的 I/O 源。由于涉及到 json，所以开启"),r("code",[e._v("objectMode")]),e._v("选项把流实例切换到对象模式，这样可以直接 "),r("code",[e._v("push")]),e._v(" 一个对象。")]),e._v(" "),r("p",[r("a",{attrs:{href:"https://github.com/dongyuanxin/ciy/blob/master/nodejs/stream/read.js",target:"_blank",rel:"noopener noreferrer"}},[e._v("代码地址"),r("OutboundLink")],1)]),e._v(" "),r("p",[r("strong",[e._v("Q：利用双工流，完成一个带有交互提示的命令行")])]),e._v(" "),r("p",[e._v("A：双工流既有 "),r("code",[e._v("_read")]),e._v(" 方法，也有 "),r("code",[e._v("_write")]),e._v(" 方法，所以它本身是可读可写的。可以在类的内容调用"),r("code",[e._v("this._push()")]),e._v("，也可以在外部对类调用 "),r("code",[e._v("write()")]),e._v(" 方法。")]),e._v(" "),r("p",[r("a",{attrs:{href:"https://github.com/dongyuanxin/ciy/blob/master/nodejs/stream/duplex.js",target:"_blank",rel:"noopener noreferrer"}},[e._v("代码地址"),r("OutboundLink")],1)]),e._v(" "),r("p",[r("strong",[e._v("Q：利用转换流，将 csv 文件内容转换为内部数据结构（数组+对象）")])]),e._v(" "),r("p",[e._v("A：转换流是一种特殊的双工流，它不要实现 "),r("code",[e._v("_read")]),e._v(" 方法和 "),r("code",[e._v("_write")]),e._v(" 方法，但要实现 "),r("code",[e._v("_transform")]),e._v(" 方法。")]),e._v(" "),r("p",[e._v("代码要读取 csv 文件，并且要考虑没有读取完整数据的情况。代码利用「状态机」的思想进行了巧妙处理。")]),e._v(" "),r("p",[r("a",{attrs:{href:"https://github.com/dongyuanxin/ciy/blob/master/nodejs/stream/transform.js",target:"_blank",rel:"noopener noreferrer"}},[e._v("代码地址"),r("OutboundLink")],1)]),e._v(" "),r("p",[r("strong",[e._v("Q：编写流的单元测试（以前面的转换流为例）")])]),e._v(" "),r("p",[e._v("A："),r("a",{attrs:{href:"https://github.com/dongyuanxin/ciy/blob/master/nodejs/stream/transform.spec.js",target:"_blank",rel:"noopener noreferrer"}},[e._v("代码地址"),r("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=o.exports}}]);