(window.webpackJsonp=window.webpackJsonp||[]).push([[303],{583:function(t,_,v){"use strict";v.r(_);var s=v(12),e=Object(s.a)({},(function(){var t=this,_=t.$createElement,v=t._self._c||_;return v("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[v("p",[t._v("在实际项目开发中，总会遇到代码写到一半（没法去打"),v("code",[t._v("commit")]),t._v("），去开启新的分支 修复 Bug 或者 增加功能 的情况。如果不处理，未修改的代码就会被带入临时创建的新的分支，没写完的代码 和 要修复的代码混合在一起，绝对苦逼。而 Git 中的"),v("code",[t._v("stash")]),t._v("就是用来对付这种情况。")]),t._v(" "),v("h3",{attrs:{id:"_1-初识git-stash"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_1-初识git-stash"}},[t._v("#")]),t._v(" 1. 初识"),v("code",[t._v("git stash")])]),t._v(" "),v("p",[v("code",[t._v("stash")]),t._v("在英文中的意思是：隐藏。在 Git 代码管理的过程中，它的作用也是隐藏没完成的代码，防止它干扰 别人 或者 新分支的工作。")]),t._v(" "),v("p",[t._v("关于"),v("code",[t._v("git stash")]),t._v("，常用命令如下：")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("命令")]),t._v(" "),v("th",[t._v("作用")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[v("code",[t._v("git stash")])]),t._v(" "),v("td",[t._v("隐藏当前的工作现场, 此时, "),v("code",[t._v("git status")]),t._v("的结果是 "),v("code",[t._v("clean")])])]),t._v(" "),v("tr",[v("td",[v("code",[t._v("git stash list")])]),t._v(" "),v("td",[t._v("查看所有隐藏, 每一行的冒号前面的字符串就是标识此隐藏的"),v("code",[t._v("id")])])]),t._v(" "),v("tr",[v("td",[v("code",[t._v("git stash apply <id>")])]),t._v(" "),v("td",[t._v("重新显示标识为 id 的隐藏")])]),t._v(" "),v("tr",[v("td",[v("code",[t._v("git stash drop <id>")])]),t._v(" "),v("td",[v("code",[t._v("git apply")]),t._v("恢复隐藏后, 需要手动删除 list 列表中的记录")])]),t._v(" "),v("tr",[v("td",[v("code",[t._v("git stash pop")])]),t._v(" "),v("td",[t._v("Apply last stash and remove it from the list")])])])]),t._v(" "),v("h3",{attrs:{id:"_2-应用与实战"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-应用与实战"}},[t._v("#")]),t._v(" 2. 应用与实战")]),t._v(" "),v("p",[t._v("假设：正当我在 master 分支上写着文档时候（"),v("em",[t._v("没有完成、没有提交")]),t._v("），同事发现 "),v("code",[t._v("hello.py")]),t._v(" 这个脚本有问题，紧急报告给我进行修复。")]),t._v(" "),v("p",[t._v("收到报告，下意识就是开一个 debug 分支来处理 bug。但是，现在的文档没完成，自然无法提交，又不能把没提交的东西带入到新创建的 debug 分支（"),v("em",[t._v("执意如此，我也没办法 : )")]),t._v("）。目前，status 如下。")]),t._v(" "),v("p",[t._v("为了达到目的，分为以下几步：")]),t._v(" "),v("ol",[v("li",[t._v("隐藏修改："),v("code",[t._v("git stash")])]),t._v(" "),v("li",[t._v("创建新分支："),v("code",[t._v("git branch debug")])]),t._v(" "),v("li",[t._v("在"),v("code",[t._v("debug")]),t._v("分支上修复 bug, 并且将修改添加到 log 中")]),t._v(" "),v("li",[t._v("回到"),v("code",[t._v("master")]),t._v("分支, 合并"),v("code",[t._v("debug")]),t._v("分支的修改, 并且删除 "),v("code",[t._v("debug")]),t._v(" 分支")]),t._v(" "),v("li",[t._v("重新显示隐藏的"),v("code",[t._v("stash")]),t._v("，并且将其从"),v("code",[t._v("stash list")]),t._v("列表中删除")]),t._v(" "),v("li",[v("strong",[t._v("然后就可以愉快地继续做自己的事情啦！")])])]),t._v(" "),v("p",[t._v("感谢"),v("a",{attrs:{href:"https://www.cnblogs.com/chucklu/",target:"_blank",rel:"noopener noreferrer"}},[t._v("chucklu"),v("OutboundLink")],1),t._v("的提醒：上面第五步的两条命令，可以用"),v("code",[t._v("git stash pop")]),t._v("命令代替。")]),t._v(" "),v("h3",{attrs:{id:"_3-拓展阅读"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_3-拓展阅读"}},[t._v("#")]),t._v(" 3. 拓展阅读")]),t._v(" "),v("p",[t._v("在实际生产过程中，难免会遇到多个 stash 的情况。此时，他们的 id 默认都是："),v("code",[t._v("stash{0}")]),t._v(", "),v("code",[t._v("stash{1}")]),t._v(", "),v("code",[t._v("stash{2}")]),t._v(" ... ...")]),t._v(" "),v("p",[t._v("当我们恢复一个 stash ，并且将它从 stash list 中移除的时候，在其下方的 stash 记录的 id 会自动变小，以保证 id 是从 0 到 n 的连续自然数列。"),v("strong",[t._v("所以，当从 stash list 移除一个 stash 后，一些 stash 的 id 就会发生改变")]),t._v("。此处是个坑。")])])}),[],!1,null,null,null);_.default=e.exports}}]);